name: Build Repo

on:
  workflow_dispatch:
    inputs:
      repo:
        required: true
      branch:

jobs:
  greet:
    runs-on: ubuntu-20.04
    container:
      image: openjdk:15-jdk
      options: --user root
    steps:
    - name: Setup Node.js environment
      uses: actions/setup-node@v3.2.0
    - uses: actions/setup-python@v3.0.0
      with:
        python-version: '3.x' # Version range or exact version of a Python version to use, using SemVer's version range syntax
        architecture: 'x64'
#     - uses: actions/setup-java@v2
#       with:
#         distribution: 'temurin' # See 'Supported distributions' for available options
#         java-version: '17'
    - name: Build & Publish
      run: curl https://raw.githubusercontent.com/u9g/repopublisher/main/.github/workflows/downloader.sh && chmod +x downloader.sh && ./downloader.sh
      env:
        REPO: ${{github.event.inputs.repo}}
        BRANCH: ${{github.event.inputs.branch}}
        MAVEN_USERNAME: ${{ secrets.MAVEN_USERNAME }}
        MAVEN_PASSWORD: ${{ secrets.MAVEN_PASSWORD }}
